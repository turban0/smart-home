<!doctype html>
<html lang="">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SmartHome</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="components/angular-material/angular-material.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <script src="components/angular/angular.js"></script>
  <script src="components/angular-animate/angular-animate.js"></script>
  <script src="components/angular-aria/angular-aria.js"></script>
  <script src="components/angular-material/angular-material.js"></script>
  <script src="components/angular-resource/angular-resource.js"></script>  
  <style>
      /*temprary styles*/
      #header .md-toolbar-tools {
          width: auto;
      }
      
      #loginInfo {
          white-space:nowrap;
      }
      
      #leftMenu li.active {
          background-color: yellow;
      }
  </style>  
</head>
<body layout="column" ng-app="smartHomeApp" ng-controller="appController">
    <md-toolbar id="header" layout="row" layout-align="space-between center">
        <div class="md-toolbar-tools">
            <h1><a href="/">SmartHome :: <%-pageTitle%></a></h1>
        </div>
        <div id="loginInfo" class="md-toolbar-tools" >
        <% if (user) { %>
            <span class="md-body-2 floatRight">Logged as <%= user.name %></span>
            <a href="/logout" class="md-button md-raised" title="Log out">Log out</a>
        <% } else {%>
            <a href="/signup" class="md-button md-raised" title="Sign up">Sign up</a>
            <a href="/login" class="md-button md-raised" title="Log in">Log in</a>
        <% } %>
        </div>        
    </md-toolbar>
    
    <div layout="row" flex>
        <% if (user) { %>
            <md-sidenav id="leftMenu" layout="column" class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('min-width: 640px')">
                <md-content>
                    <ul>
                        <li ng-repeat="menuItem in leftMenuItems" ng-class="{active: pageTitle === menuItem.name}"><a ng-href="{{menuItem.url}}" title="{{menuItem.name}}">{{menuItem.name}}</a></li>
                    </ul>
                </md-content>
            </md-sidenav>
        <% } %>

        <md-content class="layout-padding flex" id="content" ng-controller="viewController">       